{"ast":null,"code":"import React from'react';import{Helmet}from\"react-helmet-async\";import Header from'../components/Header';import Footer from'../components/Footer';import{Link}from'react-router-dom';import{useState}from'react';import{auth}from'../firebase/config.js';import{createUserWithEmailAndPassword,updateProfile,sendEmailVerification}from\"firebase/auth\";import{useNavigate}from\"react-router-dom\";import{useAuthState}from\"react-firebase-hooks/auth\";import{useEffect}from\"react\";import Loading from'../components/Loading.jsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Signup=()=>{const[userName,setuserName]=useState(\"\");const[email,setemail]=useState(\"\");const[password,setpassword]=useState(\"\");const navigate=useNavigate();const[hasError,sethasError]=useState(false);const[firebaseError,setfirebaseError]=useState(\"\");const[user,loading,error]=useAuthState(auth);// --------------------------------------------------------------------- //\n// Loading    (done)\n// NOT sign-in  (done)\n// sign-in without Email verification   (done)\n// (sign-in && verified email) => navigate(/)    (done)\nuseEffect(()=>{if(user){if(user.emailVerified){navigate(\"/\");}}});// --------------------------------------------------------------------- //\nif(!user){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Signup Page\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Signup Page Description\"})]}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"23px\",marginBottom:\"22px\"},children:[\" Create a new account \",/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83E\\uDDE1\"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{required:true,placeholder:\" UserName : \",type:\"text\",onChange:eo=>{setuserName(eo.target.value);}}),/*#__PURE__*/_jsx(\"input\",{required:true,placeholder:\" E-mail : \",type:\"email\",onChange:eo=>{setemail(eo.target.value);}}),/*#__PURE__*/_jsx(\"input\",{required:true,placeholder:\" Password : \",type:\"password\",onChange:eo=>{setpassword(eo.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:eo=>{eo.preventDefault();createUserWithEmailAndPassword(auth,email,password).then(userCredential=>{// Signed up \nconst user=userCredential.user;console.log(user);// Email Verification\nsendEmailVerification(auth.currentUser).then(()=>{console.log(\"Email verification sent!\");});// Update Profile\nupdateProfile(auth.currentUser,{displayName:userName}).then(()=>{// Profile updated!\nconsole.log(\"doneeeeeeeeee\");navigate(\"/\");}).catch(error=>{// An error occurred\nconsole.log(error.code);});}).catch(error=>{const errorCode=error.code;const errorMessage=error.message;console.log(errorMessage);console.log(errorMessage);sethasError(true);switch(errorCode){case\"auth/invalid-email\":setfirebaseError(\"Wrong Email\");break;case\"auth/user-not-found\":setfirebaseError(\"Wrong Email\");break;case\"auth/wrong-password\":setfirebaseError(\"Wrong Password\");break;case\"auth/too-many-requests\":setfirebaseError(\"Too many requests, please try again later\");break;default:setfirebaseError(\"Please check your email & password\");break;}});},children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"account\",children:[\"Already have an account \",/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:\"Sign-in\"})]}),hasError&&/*#__PURE__*/_jsx(\"h2\",{children:firebaseError})]})}),/*#__PURE__*/_jsx(Footer,{})]});}// --------------------------------------------------------------------- //\nif(loading){return/*#__PURE__*/_jsx(Loading,{});}// --------------------------------------------------------------------- //\nif(user){if(!user.emailVerified){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"We send you an email to verify your Account\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",children:\"Send again\"})]}),/*#__PURE__*/_jsx(Footer,{})]});}}};export default Signup;","map":{"version":3,"names":["React","Helmet","Header","Footer","Link","useState","auth","createUserWithEmailAndPassword","updateProfile","sendEmailVerification","useNavigate","useAuthState","useEffect","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","userName","setuserName","email","setemail","password","setpassword","navigate","hasError","sethasError","firebaseError","setfirebaseError","user","loading","error","emailVerified","children","name","content","style","fontSize","marginBottom","required","placeholder","type","onChange","eo","target","value","onClick","preventDefault","then","userCredential","console","log","currentUser","displayName","catch","code","errorCode","errorMessage","message","className","to"],"sources":["/home/noran/Documents/c4a-dev/src/pages/Signup.jsx"],"sourcesContent":["import React from 'react'\nimport { Helmet } from \"react-helmet-async\";\nimport Header from '../components/Header'\nimport Footer from '../components/Footer'\nimport { Link } from 'react-router-dom';\n\nimport { useState } from 'react';\n\nimport { auth } from '../firebase/config.js'\nimport { createUserWithEmailAndPassword, updateProfile, sendEmailVerification } from \"firebase/auth\";\n\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nimport { useEffect } from \"react\";\n\nimport Loading from '../components/Loading.jsx';\n\nconst Signup = () => {\n\n    const [userName, setuserName] = useState(\"\");\n    const [email, setemail] = useState(\"\");\n    const [password, setpassword] = useState(\"\");\n\n    const navigate = useNavigate();\n\n    const [hasError, sethasError] = useState(false);\n    const [firebaseError, setfirebaseError] = useState(\"\");\n\n    const [user, loading, error] = useAuthState(auth);\n\n    // --------------------------------------------------------------------- //\n\n    // Loading    (done)\n    // NOT sign-in  (done)\n    // sign-in without Email verification   (done)\n    // (sign-in && verified email) => navigate(/)    (done)\n\n    useEffect(() => {\n        if (user) {\n            if (user.emailVerified) {\n                navigate(\"/\");\n            }\n        }\n    });\n\n    // --------------------------------------------------------------------- //\n\n    if (!user) {\n\n        return (\n            <>\n\n                {/* --------------------------------------------------------------------- */}\n\n                <Helmet>\n                    <title>Signup Page</title>\n                    <meta name=\"description\" content=\"Signup Page Description\" />\n                </Helmet>\n\n                {/* --------------------------------------------------------------------- */}\n\n                <Header />\n\n                {/* --------------------------------------------------------------------- */}\n\n                <main>\n                    <form>\n                        <p style={{ fontSize: \"23px\", marginBottom: \"22px\" }}> Create a new account <span>ðŸ§¡</span> </p>\n\n                        <input required placeholder=\" UserName : \" type=\"text\" onChange={(eo) => { setuserName(eo.target.value); }} />\n\n                        <input required placeholder=\" E-mail : \" type=\"email\" onChange={(eo) => { setemail(eo.target.value) }} />\n\n                        <input required placeholder=\" Password : \" type=\"password\" onChange={(eo) => { setpassword(eo.target.value) }} />\n\n                        <button onClick={\n                            (eo) => {\n\n                                eo.preventDefault();\n\n                                createUserWithEmailAndPassword(auth, email, password)\n\n                                    .then((userCredential) => {\n\n                                        // Signed up \n                                        const user = userCredential.user;\n                                        console.log(user);\n\n                                        // Email Verification\n                                        sendEmailVerification(auth.currentUser).then(() => {\n                                            console.log(\"Email verification sent!\");\n                                        });\n\n                                        // Update Profile\n                                        updateProfile(auth.currentUser, {\n                                            displayName: userName\n                                        }).then(() => {\n                                            // Profile updated!\n                                            console.log(\"doneeeeeeeeee\");\n                                            navigate(\"/\");\n                                        }).catch((error) => {\n                                            // An error occurred\n                                            console.log(error.code);\n                                        });\n                                    })\n\n                                    .catch((error) => {\n\n                                        const errorCode = error.code;\n                                        const errorMessage = error.message;\n                                        console.log(errorMessage)\n                                        console.log(errorMessage);\n                                        sethasError(true)\n\n                                        switch (errorCode) {\n\n                                            case \"auth/invalid-email\":\n                                                setfirebaseError(\"Wrong Email\")\n                                                break;\n\n\n                                            case \"auth/user-not-found\":\n                                                setfirebaseError(\"Wrong Email\")\n                                                break;\n\n\n                                            case \"auth/wrong-password\":\n                                                setfirebaseError(\"Wrong Password\")\n                                                break;\n\n\n                                            case \"auth/too-many-requests\":\n                                                setfirebaseError(\"Too many requests, please try again later\")\n                                                break;\n\n\n                                            default:\n                                                setfirebaseError(\"Please check your email & password\")\n                                                break;\n\n                                        }\n\n                                    })\n                            }\n                        }>Sign up</button>\n\n                        <p className=\"account\">\n                            Already have an account <Link to=\"/sign-in\">Sign-in</Link>\n                        </p>\n\n                        {hasError && <h2>{firebaseError}</h2>}\n\n                    </form>\n                </main >\n\n                {/* --------------------------------------------------------------------- */}\n\n                < Footer />\n\n                {/* --------------------------------------------------------------------- */}\n\n            </>\n        )\n\n    }\n\n    // --------------------------------------------------------------------- //\n\n    if (loading) {\n        return <Loading />;\n    }\n\n    // --------------------------------------------------------------------- //\n\n    if (user) {\n        if (!user.emailVerified) {\n            return (\n                <div>\n                    <Header />\n                    <main>\n                        <p>We send you an email to verify your Account</p>\n                        <button className=\"delete\">Send again</button>\n                    </main>\n                    <Footer />\n                </div>\n            );\n        }\n    }\n\n\n}\n\nexport default Signup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}